<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../shared/head.ejs') %>
  <link rel="stylesheet" href="/css/product.css">
</head>

<body>
  <header class="main-header">
    <%- include('../shared/nav.ejs') %>
  </header>

  <main>
    <form class="product-form" action="/admin/<% if (isEditing) { %>edit-product<% } else { %>add-product<% } %>" method="POST">

      <div class="form-control">
        <label for="title">Product Name</label>
        <input 
          type="text" 
          name="title" 
          id="title" 
          value="<% if (isEditing) { %><%= product.title %><% } %>">
      </div>

      <div class="form-control">
        <label for="imageUrl">Image url</label>
        <input 
          type="text" 
          name="imageUrl" 
          id="imageUrl"
          value="<% if (isEditing) { %><%= product.imageUrl %><% } %>">
      </div>

      <div class="form-control">
        <label for="price">Price</label>
        <input 
          type="number" 
          name="price" 
          id="price" 
          step="0.01"
          value="<% if (isEditing) { %><%= product.price %><% } %>">
      </div>

      <div class="form-control">
        <label for="description">Product description</label>
        <textarea name="description" id="description" rows="3"><% if (isEditing) { %><%= product.description %><% } %></textarea>
      </div>

      <% if (isEditing) { %>
        <input type="hidden" value="<%= product._id %>" name="productId">
      <% } %>
      
      <button type="submit" class="primary-btn">
        <% if (isEditing) { %>Update product<% } else { %>Add product<% } %>
      </button>
    </form>
  </main>
</body>

</html>
